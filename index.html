<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SINGLES Quiz</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap">
    <style>
        /* General styling */
        body {
            font-family: 'Montserrat', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            background-color: #FFF9E3; /* Light yellow background */
            margin: 0;
            padding: 0;
            color: #1E3A5F; /* Navy blue for text */
        }

        /* Header styling */
        h1 {
            background-color: #1E3A5F; /* Navy blue */
            color: #FFD700; /* Yellow text */
            padding: 8px 16px;
            border-radius: 5px;
            margin: 20px 0;
            font-weight: 600;
        }

        /* Container for inputs */
        .input-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            width: 300px;
        }

        /* Spin button styling */
        .spin-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            width: 100%;
        }

        .spin-button input[type="number"] {
            width: 60px;
            text-align: center;
            padding: 8px;
            border: 2px solid #FF0000;
            border-radius: 5px;
            font-size: 14px;
            -moz-appearance: textfield;
        }

        .spin-button button {
            width: 30px;
            height: 30px;
            background-color: #FF0000;
            color: #FFFFFF;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .spin-button button:hover {
            background-color: #1E3A5F;
        }

        /* Input and button styling */
        label {
            font-weight: 600;
            margin-top: 5px;
        }

        input[type="text"] {
            padding: 8px;
            width: 100%;
            border: 2px solid #FF0000; /* Red border */
            border-radius: 5px;
            box-sizing: border-box;
            font-size: 14px;
        }

        button.add-person {
            background-color: #FF0000; /* Red button */
            color: #FFFFFF; /* White text */
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            margin-top: 5px;
            transition: background-color 0.3s;
        }

        button.add-person:hover {
            background-color: #1E3A5F; /* Navy blue on hover */
        }

        /* Table container */
        .table-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
            max-width: 1200px;
            justify-content: center;
        }

        /* Table styling */
        .table {
            border: 2px solid #1E3A5F; /* Navy blue border */
            background-color: #FFD700; /* Yellow background */
            padding: 15px;
            width: 180px;
            text-align: center;
            border-radius: 8px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        }

        .table-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .table-header strong {
            color: #1E3A5F; /* Navy blue for table title */
            font-weight: 600;
        }

        .rename-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            margin: 0;
        }

        .rename-btn img {
            width: 16px;
            height: 16px;
        }

        /* Person item styling */
        .person-item {
            background-color: #1E3A5F; /* Navy blue background for person */
            color: #FFFFFF; /* White text */
            padding: 5px;
            border-radius: 5px;
            margin: 5px 0;
            font-size: 14px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .remove-btn {
            background: none;
            border: none;
            color: #465fb1; /* Red color for "X" button */
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <h1>SINGLES Quiz</h1>
    <div class="input-container">
        <label for="tableCount">Number of Tables:</label>
        <div class="spin-button">
            <button onclick="decrementTableCount()">-</button>
            <input type="number" id="tableCount" value="15" min="1" readonly>
            <button onclick="incrementTableCount()">+</button>
        </div>
        <label for="personName">Enter Personâ€™s Name:</label>
        <input type="text" id="personName" placeholder="Name">
        <button class="add-person" onclick="addAndAssignPerson()">Add & Assign Person</button>
    </div>
    <div class="table-container" id="tableContainer"></div>

    <script>
        let tables = [];

        // Event listener to trigger Add button on Enter key press
        document.getElementById('personName').addEventListener('keypress', function (event) {
            if (event.key === 'Enter') {
                event.preventDefault(); // Prevents form submission if in a form
                addAndAssignPerson(); // Trigger the add person function
            }
        });

        function setupTables(newTableCount) {
            // Preserve existing people in tables if the table count changes
            let allPeople = tables.flatMap(table => table.people);
            
            // Create new tables based on the updated count
            tables = Array.from({ length: newTableCount }, (_, i) => ({
                name: `Table ${i + 1}`,
                people: []
            }));

            // Re-assign people to tables after resizing
            allPeople.forEach((person, index) => {
                tables[index % newTableCount].people.push(person);
            });

            renderTables();
        }

        function incrementTableCount() {
            const tableCountInput = document.getElementById('tableCount');
            tableCountInput.value = parseInt(tableCountInput.value) + 1;
            setupTables(parseInt(tableCountInput.value));
        }

        function decrementTableCount() {
            const tableCountInput = document.getElementById('tableCount');
            if (tableCountInput.value > 1) {
                tableCountInput.value = parseInt(tableCountInput.value) - 1;
                setupTables(parseInt(tableCountInput.value));
            }
        }

        function addAndAssignPerson() {
            const name = document.getElementById('personName').value.trim();
            if (name && tables.length > 0) {
                const randomTableIndex = Math.floor(Math.random() * tables.length);
                tables[randomTableIndex].people.push(name);
                document.getElementById('personName').value = '';
                renderTables();
            } else {
                alert("Please enter a valid name and set up the tables first.");
            }
        }

        function removePerson(tableIndex, personIndex) {
            tables[tableIndex].people.splice(personIndex, 1);
            renderTables();
        }

        function renameTable(index) {
            const newName = prompt("Enter new table name:");
            if (newName) {
                tables[index].name = newName;
                renderTables();
            }
        }

        function renderTables() {
            const tableContainer = document.getElementById('tableContainer');
            tableContainer.innerHTML = '';

            tables.forEach((table, i) => {
                const tableEl = document.createElement('div');
                tableEl.className = 'table';

                const tableHeader = document.createElement('div');
                tableHeader.className = 'table-header';

                const tableName = document.createElement('strong');
                tableName.textContent = table.name;
                tableHeader.appendChild(tableName);

                const renameButton = document.createElement('button');
                renameButton.className = 'rename-btn';
                renameButton.onclick = () => renameTable(i);
                renameButton.innerHTML = `<img src="https://img.icons8.com/material-outlined/24/1E3A5F/pencil.png" alt="Rename">`;
                tableHeader.appendChild(renameButton);

                tableEl.appendChild(tableHeader);

                table.people.forEach((person, personIndex) => {
                    const personEl = document.createElement('div');
                    personEl.className = 'person-item';
                    personEl.textContent = person;

                    const removeButton = document.createElement('button');
                    removeButton.className = 'remove-btn';
                    removeButton.textContent = "X";
                    removeButton.onclick = () => removePerson(i, personIndex);
                    
                    personEl.appendChild(removeButton);
                    tableEl.appendChild(personEl);
                });

                tableContainer.appendChild(tableEl);
            });
        }

        // Initialize tables with default count
        setupTables(15);
    </script>
</body>
</html>
